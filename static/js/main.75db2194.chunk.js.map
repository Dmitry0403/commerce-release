{"version":3,"sources":["components/StartPage/styles.module.css","components/CategoryPage/styles.module.css","components/CartPage/styles.module.css","components/GoodsCard/styles.module.css","components/CategoryList/styles.module.css","store/cartReducer/constans.ts","store/constatns.ts","components/Footer/Footer.tsx","store/cartReducer/reducer.tsx","store/goodsReducer/constatns.ts","store/cartReducer/selectors.tsx","store/goodsReducer/reducer.tsx","store/categoriesReducer/constatns.ts","store/goodsReducer/selectors.tsx","store/categoriesReducer/actionCreators.tsx","components/GoodsPage/GoodsPage.tsx","store/goodsReducer/actionCreators.tsx","components/Loader/Loader.tsx","store/userReducer/constans.ts","store/userReducer/actionCreators.tsx","store/popularGoodsReducer/constatns.ts","store/cartReducer/actionCreators.tsx","store/userReducer/reducer.tsx","store/userReducer/selectors.tsx","components/Header/Header.tsx","store/categoriesReducer/reducer.tsx","store/categoriesReducer/selectors.tsx","components/SideMenu/SideMenu.tsx","store/popularGoodsReducer/reducer.tsx","components/RegisterPage/RegisterPage.tsx","store/popularGoodsReducer/selectors.tsx","store/popularGoodsReducer/actionCreators.tsx","components/GoodsCard/GoodsCard.tsx","components/CategoryList/CategoryList.tsx","components/StartPage/StartPage.tsx","components/CategoryPage/CategoryPage.tsx","components/CartPage/CartPage.tsx","components/GoodsTablePage/GoodsTablePage.tsx","components/LoginPage/LoginPage.tsx","components/App/App.tsx","api/Api.tsx","store/store.tsx","server.js","index.tsx","components/RegisterPage/styles.module.css","components/App/styles.module.css","components/Footer/styles.module.css","components/SideMenu/styles.module.css","components/GoodsTablePage/styles.module.css","components/LoginPage/styles.module.css","components/GoodsPage/styles.module.css","components/Header/styles.module.css"],"names":["module","exports","CART_ACTIONS","LOAD_STATUSES","Footer","className","css","footer","GOODS_ACTIONS","INITIAL_STATE","cart","loadStatus","UNKNOWN","getCart","state","cartData","getCartLoadStatus","CATEGORIES_ACTIONS","items","itemsSearchHeader","total","getGoodsItems","goodsData","getGoodsLoadStatus","getItemsSearchHeader","getTotalGoodsItems","BUTTON_STATUS","setCategoryItems","type","SET_CATEGORIES","setCategoriesSuccess","payload","SET_CATEGORIES_SUCCESS","setCategoriesFailure","SET_CATEGORIES_FAILURE","fetchCategoryItems","params","dispatch","_getState","api","a","getCategories","categories","setGoods","SET_GOODS","setGoodsSuccess","SET_GOODS_SUCCESS","setGoodsSuccessSearchHeader","payloadHeader","SET_GOODS_SUCCESS_SEARCHHEADER","setGoodsFailure","SET_GOODS_FAILURE","fetchGoods","getGoods","fetchGoodsSearchHeader","getState","fetchCategoryGoods","paramsCategory","paramsGoods","Promise","all","then","resp","error","Loader","USER_ACTIONS","GoodsPage","id","useParams","navigate","useNavigate","useDispatch","useEffect","goodsAction","dataGoodsPage","useSelector","goodsSelectors","pageStatus","cartSelectors","buttonStatus","putInCart","cartLoadStatus","find","item","delFromCart","LOADING","SUCCESS","page","image","src","img","alt","label","subject","content","description","price","disabled","button","onClick","cartActions","changeCart","FAILURE","POP_GOODS_ACTIONS","setUserSuccess","SET_USER_SUCCESS","changeLoadStatus","CHANGE_LOAD_STATUS","setUserExit","SET_USER_EXIT","setErrorMessage","SET_ERROR_MESSAGE","errorMessage","exitUser","localStorage","removeItem","fetchReg","dataUser","getUser","notification","open","message","duration","Error","fetchLogin","loginUser","setItem","JSON","stringify","token","getTokenFromStorage","getItem","user","parse","setCart","SET_CART","setCartSuccess","SET_CART_SUCCESS","setCartFailure","SET_CART_FAILURE","fetchCart","get–°art","data","status","method","login","isAuth","userData","getIsAuth","getErrorMessage","getUserLoadStatus","Header","Layout","userSelectors","useState","value","setValue","amountCart","length","btn","userActions","close","LINKS","logo","selectGoodsDebounced","useCallback","debounce","trim","dataSearchHeader","options","map","key","headerStyle","to","start","logos","placeholder","style","width","marginRight","allowClear","onChange","onSelect","_","option","setTimeout","product","menuHeader","MenuOutlined","menu","table","menuItem","ShoppingOutlined","count","ShoppingCartOutlined","backgroundColor","icon","UserOutlined","getSideMenuItems","categoryItems","getLoadStatusMenu","SideMenu","menuActions","loadStatusMenu","sideMenuSelectors","sideMenuItems","sideMenu","Item","String","ERROR_MESSAGES","popGoods","getPopGoods","popGoodsList","getPopGoodsLoadStatus","SET_POP_GOODS","getPopGoodsSuccess","SET_POP_GOODS_SUCCESS","getPopGoodsFailure","SET_POP_GOODS_FAILURE","fetchPopGoods","getPopularCategories","GoodsCard","props","classCard","classNames","card","backgroundImage","mainCard","title","CategoryList","category","categoryList","goodsList","categoryTypeId","StartPage","popGoodsSelectors","popGoodsLoadStatus","popGoodsAction","menuBox","span","sideMenu_mob","banner","CategoryPage","typeId","categoryParams","goodsParams","dataCategory","dataGoods","CartPage","dataCart","titleCart","errorPage","GoodsTablePage","setPage","pageSize","setPageSize","limit","offset","text","categoryTypeIds","minPrice","maxPrice","sortBy","sortDirection","filters","setFilters","memoizedFilter","filtersToFetch","queryParams","obj","newObj","getParams","searchParams","URLSearchParams","toString","categoriesItems","totalItems","setSort","prevFilters","columns","dataIndex","sorter","onHeaderCell","tablePage","filtersTitle","filterItem","titleItem","e","target","Group","defaultValue","Option","marks","range","step","rowKey","record","dataSource","pagination","onRow","current","LoginPage","values","password","errors","setState","START","handleChange","prevState","name","errorLogin","errorPass","wrapper","userForm","onSubmit","preventDefault","userName","userPass","linkBtn","reg","RegisterPage","surname","email","confirmPass","gender","interests","isSubscribe","secretType","secretAnswer","bornAt","undefined","setUser","setErrors","schema","yup","shape","when","is","Boolean","required","NEED_SECRET_QUESTION","test","OBLIGATORY_FIELD","min","BORN_THAN_1930","MIN_2_CATEGORIES","MIN_6_CHARACTERS","PASSWORD_MISMATCH","MIN_2_CHARACTERS","handlerChange","prevErrors","prevUser","inputItem","userInput","Password","filter","concat","size","defaultChecked","checked","validate","abortEarly","dataUserForFetch","getDataForFetch","secret","answer","fetchDataUser","catch","err","inner","path","App","element","Api","_instance","this","fetch","ok","json","headers","Authorization","body","reducer","combineReducers","store","action","createStore","compose","applyMiddleware","thunk","withExtraArgument","window","__REDUX_DEVTOOLS_EXTENSION__","prodcutSchema","userCredentialsSchema","getValidator","entity","split","validateProduct","validateUserCredentials","JWT_SECRET","DEFAULT_HEADERS","logBackendError","console","groupCollapsed","log","groupEnd","RESPONSE_MESSAGES","RESPONSE_CODES","APP_CONFIG","verifyRequest","request","users","requestHeaders","credentials","jwt","verify","findBy","Response","createServer","models","Model","good","extend","categoryType","belongsTo","factories","Factory","faker","commerce","productName","productDescription","seeds","server","forEach","serverCategory","create","createList","routes","namespace","get","ids","idsArray","where","includes","slice","goods","categoryTypeIdsArray","minPriceValue","parseInt","maxPriceValue","filteredItems","Number","isNaN","toLowerCase","every","sortedItems","orderBy","offsetValue","limitValue","authError","carts","attrs","productId","restGood","put","requestBody","productWithoutId","cartProduct","goodInCart","restProduct","createdProduct","timing","delete","prodcutDb","destroy","post","sign","expiresIn","currentUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.75db2194.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"banner\":\"styles_banner__QviCW\",\"menuBox\":\"styles_menuBox__TZ9RW\",\"sideMenu_mob\":\"styles_sideMenu_mob__2wK3J\",\"error\":\"styles_error__3MHhJ\",\"sideMenu\":\"styles_sideMenu__tFuCS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categoryList\":\"styles_categoryList__3i_7k\",\"title\":\"styles_title__2ARoE\",\"goodsList\":\"styles_goodsList__3WztD\",\"error\":\"styles_error__3f1cW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categoryList\":\"styles_categoryList__3j_GE\",\"title\":\"styles_title__3tpuI\",\"goodsList\":\"styles_goodsList__ZFbaY\",\"error\":\"styles_error__2tsmc\",\"errorPage\":\"styles_errorPage__3elM6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainCard\":\"styles_mainCard__2MQcc\",\"card\":\"styles_card__2mV5C\",\"title\":\"styles_title__2lxEq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categoryList\":\"styles_categoryList__2jgcs\",\"title\":\"styles_title__2z4cB\",\"goodsList\":\"styles_goodsList__2JxVk\"};","import { LOAD_STATUSES } from \"../constatns\";\r\nimport { GoodsCardType } from \"../goodsReducer\";\r\n\r\n\r\nexport interface CartType {\r\n  carts: GoodsCardType[]\r\n}\r\n\r\nexport interface CartStateType {\r\n  cart: GoodsCardType[];\r\n  loadStatus: LOAD_STATUSES;\r\n}\r\n\r\nexport enum CART_ACTIONS {\r\n  SET_CART = \"cartData/setCart\",\r\n  SET_CART_SUCCESS = \"cartData/setCartSuccess\",\r\n  SET_CART_FAILURE = \"cartData/setCartFalure\",\r\n  PUT_IN_CART = \"cartData/putInCart\",\r\n  DEL_FROM_CART = \"cartData/delFromCart\",\r\n}\r\n","export enum LOAD_STATUSES {\r\n    UNKNOWN = \"unknown\",\r\n    LOADING = \"loading\",\r\n    SUCCESS = \"loaded\",\r\n    FAILURE = \"failure\",\r\n    START = \"start\"\r\n  }\r\n\r\n","import css from \"./styles.module.css\";\r\n\r\nexport const Footer:React.FC = () => {\r\n  return (\r\n    <div className={css.footer}>\r\n      –û–±—â–µ—Å—Ç–≤–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é ¬´–ü—Ä–∏–Ω–æ—Å–∏–º —Ä–∞–¥–æ—Å—Ç—å¬ª. –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ\r\n      –æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã–¥–∞–Ω–æ –ú–∏–Ω—Å–∫–∏–º –≥–æ—Ä–∏—Å–ø–æ–ª–∫–æ–º–æ–º –æ—Ç 19.04.2018 —Å\r\n      —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º 193067319. –£–ù–ü 193067319. –Æ—Ä. –∞–¥—Ä–µ—Å: 220117, –≥.\r\n      –ú–∏–Ω—Å–∫, –ø—Ä-—Ç –ì–∞–∑–µ—Ç—ã –ó–≤—è–∑–¥–∞, –¥. 47, –ø–æ–º. 305. –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞ –ø–æ\r\n      –ø—è—Ç–Ω–∏—Ü—É —Å 9:00 –¥–æ 17:30. –ö–æ–Ω—Ç–∞–∫—Ç—ã: 695-25-25 –ú–¢–°, A1, life:), oz@oz.by.\r\n      –£–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω—ã–π –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏–π –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π: –≥–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä\r\n      –û–û–û ¬´–ü—Ä–∏–Ω–æ—Å–∏–º —Ä–∞–¥–æ—Å—Ç—å¬ª, –∑–∞–ø–∏—Å—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É +375 17 278-50-98.\r\n      –£–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω—ã–µ –ø–æ –∑–∞—â–∏—Ç–µ –ø—Ä–∞–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π: –æ—Ç–¥–µ–ª —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ —É—Å–ª—É–≥\r\n      –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –≥. –ú–∏–Ω—Å–∫–∞, +375 17 263-97-69, +375 17\r\n      368-80-49.\r\n    </div>\r\n  );\r\n};\r\n","import type { CartStateType } from \"./constans\";\r\nimport type { GoodsCardType } from \"../goodsReducer\";\r\nimport { CART_ACTIONS } from \"./constans\";\r\nimport { LOAD_STATUSES } from \"../constatns\";\r\nimport { Action } from \"redux\";\r\n\r\nconst INITIAL_STATE: CartStateType = { cart: [], loadStatus: LOAD_STATUSES.UNKNOWN };\r\n\r\nexport const cartReducer = (\r\n  store: CartStateType = INITIAL_STATE,\r\n  action: Action<CART_ACTIONS>\r\n): CartStateType => {\r\n  switch (action.type) {\r\n    case CART_ACTIONS.SET_CART:\r\n      return {\r\n        ...store,\r\n        loadStatus: LOAD_STATUSES.LOADING,\r\n      };\r\n    case CART_ACTIONS.SET_CART_SUCCESS:\r\n      let { payload } = action as {\r\n        type: CART_ACTIONS.SET_CART_SUCCESS;\r\n        payload: GoodsCardType[];\r\n      };\r\n      return {\r\n        ...store,\r\n        cart: payload,\r\n        loadStatus: LOAD_STATUSES.SUCCESS,\r\n      };\r\n    case CART_ACTIONS.SET_CART_FAILURE:\r\n      return {\r\n        ...store,\r\n        loadStatus: LOAD_STATUSES.FAILURE,\r\n      };\r\n    default:\r\n      return store;\r\n  }\r\n};\r\n","import { LOAD_STATUSES } from \"../constatns\";\r\n\r\nexport enum GOODS_ACTIONS {\r\n  SET_GOODS = \"goodsData/setGoods\",\r\n  SET_GOODS_SUCCESS = \"goodsData/setGoodsSuccess\",\r\n  SET_GOODS_SUCCESS_SEARCHHEADER = \"goodsData/setGoodsSuccessSearchHeader\",\r\n  SET_GOODS_FAILURE = \"goodsData/setGoodsFalure\",\r\n}\r\n\r\nexport interface GoodsCardType {\r\n  id: string;\r\n  categoryTypeId: string;\r\n  label: string;\r\n  price: string;\r\n  img: string;\r\n  description?: string;\r\n  type?: string;\r\n}\r\n\r\nexport interface GoodsType {\r\n  itemsSearchHeader: GoodsCardType[];\r\n  items: GoodsCardType[];\r\n  total: number;\r\n}\r\n\r\nexport interface GoodsTypeStore extends GoodsType {\r\n  loadStatus: LOAD_STATUSES;\r\n}\r\n","import { RootState } from \"../store\";\r\n\r\nexport const getCart = (state:RootState) => state.cartData.cart\r\n\r\nexport const getCartLoadStatus = (state:RootState) => state.cartData.loadStatus\r\n\r\n\r\n\r\n","import { LOAD_STATUSES } from \"../constatns\";\r\nimport { Action } from \"redux\";\r\nimport { GOODS_ACTIONS } from \"./constatns\";\r\nimport type { GoodsType, GoodsTypeStore } from \"./constatns\";\r\n\r\nconst INITIAL_STATE: GoodsTypeStore = {\r\n  items: [],\r\n  itemsSearchHeader: [],\r\n  total: 0,\r\n  loadStatus: LOAD_STATUSES.UNKNOWN,\r\n};\r\n\r\nexport const goodsReducer = (\r\n  store: GoodsTypeStore = INITIAL_STATE,\r\n  action: Action<GOODS_ACTIONS>\r\n): GoodsTypeStore => {\r\n  switch (action.type) {\r\n    case GOODS_ACTIONS.SET_GOODS:\r\n      return {\r\n        ...store,\r\n        loadStatus: LOAD_STATUSES.LOADING,\r\n      };\r\n    case GOODS_ACTIONS.SET_GOODS_SUCCESS:\r\n      const { payload } = action as {\r\n        type: GOODS_ACTIONS.SET_GOODS_SUCCESS;\r\n        payload: GoodsType;\r\n      };\r\n      return {\r\n        ...store,\r\n        items: payload.items,\r\n        total: payload.total,\r\n        loadStatus: LOAD_STATUSES.SUCCESS,\r\n      };\r\n    case GOODS_ACTIONS.SET_GOODS_SUCCESS_SEARCHHEADER:\r\n      const { payloadHeader } = action as {\r\n        type: GOODS_ACTIONS.SET_GOODS_SUCCESS_SEARCHHEADER;\r\n        payloadHeader: GoodsType;\r\n      };\r\n      return {\r\n        ...store,\r\n        itemsSearchHeader: payloadHeader.items,\r\n        loadStatus: LOAD_STATUSES.SUCCESS,\r\n      };\r\n    case GOODS_ACTIONS.SET_GOODS_FAILURE:\r\n      return {\r\n        ...store,\r\n        loadStatus: LOAD_STATUSES.FAILURE,\r\n      };\r\n    default:\r\n      return store;\r\n  }\r\n};\r\n","import { LOAD_STATUSES } from \"../constatns\";\r\n\r\nexport enum CATEGORIES_ACTIONS {\r\n    SET_CATEGORIES = \"categoryItems/setCategories\",\r\n    SET_CATEGORIES_SUCCESS = \"categoryItems/setCategoriesSuccess\",\r\n    SET_CATEGORIES_FAILURE = \"categoryItems/setCategoriesFalure\"\r\n}\r\n\r\nexport interface CategoryType {\r\n    id: number;\r\n    label: string;\r\n    type: string;\r\n  }\r\n  \r\n  export interface SideMenuType {\r\n    categories: CategoryType[];\r\n    loadStatus: LOAD_STATUSES;\r\n  }","import { RootState } from \"../store\";\r\nimport type { GoodsCardType } from \"./constatns\";\r\n\r\n  export const getGoodsItems = (state: RootState ):GoodsCardType[] =>\r\n  state.goodsData.items\r\n  \r\n  export const getGoodsLoadStatus = (state: RootState ):string =>\r\n  state.goodsData.loadStatus \r\n  \r\n  export const getItemsSearchHeader = (state: RootState):GoodsCardType[] =>\r\n  state.goodsData.itemsSearchHeader\r\n  \r\n  export const getTotalGoodsItems =  (state: RootState):number =>\r\n  state.goodsData.total\r\n  ","import { CATEGORIES_ACTIONS, CategoryType } from \"./constatns\";\r\nimport { Api } from \"../../api\";\r\n\r\nexport const setCategoryItems = () => ({\r\n  type: CATEGORIES_ACTIONS.SET_CATEGORIES,\r\n});\r\n\r\nexport const setCategoriesSuccess = (payload: CategoryType[]) => ({\r\n  type: CATEGORIES_ACTIONS.SET_CATEGORIES_SUCCESS,\r\n  payload,\r\n});\r\n\r\nexport const setCategoriesFailure = () => ({\r\n  type: CATEGORIES_ACTIONS.SET_CATEGORIES_FAILURE,\r\n});\r\n\r\nexport const fetchCategoryItems =\r\n  (params: string) => async (dispatch: any, _getState: unknown, api: Api) => {\r\n    dispatch(setCategoryItems());\r\n    try {\r\n      const payload = await api.getCategories(params);\r\n      dispatch(setCategoriesSuccess(payload.categories));\r\n    } catch (error) {\r\n      dispatch(setCategoriesFailure());\r\n    }\r\n  };\r\n","import css from \"./styles.module.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { Button } from \"antd\";\r\nimport { cartSelectors } from \"../../store/cartReducer\";\r\nimport { cartActions } from \"../../store/cartReducer\";\r\nimport { goodsSelectors, goodsAction } from \"../../store/goodsReducer\";\r\nimport { LOAD_STATUSES } from \"../../store/constatns\";\r\nimport { Loader } from \"../Loader\";\r\n\r\nexport enum BUTTON_STATUS {\r\n  putInCart = \"–ü–æ–ª–æ–∂–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É\",\r\n  delFromCart = \"–£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã\",\r\n}\r\n\r\nexport const GoodsPage: React.FC = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      return;\r\n    }\r\n\r\n    const params = \"ids=\" + id;\r\n\r\n    dispatch(goodsAction.fetchGoods(params));\r\n  }, [dispatch, id]);\r\n\r\n  const dataGoodsPage = useSelector(goodsSelectors.getGoodsItems)[0];\r\n  const pageStatus = useSelector(goodsSelectors.getGoodsLoadStatus);\r\n  const cart = useSelector(cartSelectors.getCart);\r\n  let buttonStatus = BUTTON_STATUS.putInCart;\r\n  const cartLoadStatus = useSelector(cartSelectors.getCartLoadStatus);\r\n\r\n  if (cart.find((item) => item.id === dataGoodsPage.id)) {\r\n    buttonStatus = BUTTON_STATUS.delFromCart;\r\n  }\r\n\r\n  if (!dataGoodsPage) {\r\n    return (\r\n      <div className={css.error}>\r\n        –¢–û–í–ê–† –ù–ï –ù–ê–ô–î–ï–ù,\r\n        <span onClick={() => navigate(-1)}>–í–ï–†–ù–£–¢–¨–°–Ø –ù–ê–ó–ê–î </span>\r\n      </div>\r\n    );\r\n  } else\r\n    return (\r\n      <div>\r\n        {pageStatus === LOAD_STATUSES.LOADING && <Loader />}\r\n        {pageStatus === LOAD_STATUSES.SUCCESS && (\r\n          <div className={css.page}>\r\n            <div className={css.image}>\r\n              <img src={dataGoodsPage.img} alt={dataGoodsPage.label} />\r\n            </div>\r\n            <div className={css.subject}>\r\n              <div className={css.label}>{dataGoodsPage.label}</div>\r\n              <div className={css.content}>{dataGoodsPage.description}</div>\r\n              <div className={css.price}>{dataGoodsPage.price} —Ä—É–±.</div>\r\n              <Button\r\n                disabled={cartLoadStatus === LOAD_STATUSES.LOADING}\r\n                className={css.button}\r\n                onClick={() => {\r\n                  dispatch(cartActions.changeCart(dataGoodsPage, buttonStatus));\r\n                }}\r\n              >\r\n                {buttonStatus}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {pageStatus === LOAD_STATUSES.FAILURE && (\r\n          <div className={css.error}>–û—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ</div>\r\n        )}\r\n      </div>\r\n    );\r\n};\r\n","import { GOODS_ACTIONS } from \"./constatns\";\r\nimport { GoodsType } from \"./constatns\";\r\nimport { Api } from \"../../api\";\r\nimport { setCategoriesSuccess } from \"../categoriesReducer/actionCreators\";\r\n\r\nexport const setGoods = () => ({\r\n  type: GOODS_ACTIONS.SET_GOODS,\r\n});\r\n\r\nexport const setGoodsSuccess = (payload: GoodsType[]) => ({\r\n  type: GOODS_ACTIONS.SET_GOODS_SUCCESS,\r\n  payload,\r\n});\r\n\r\nexport const setGoodsSuccessSearchHeader = (payloadHeader: GoodsType[]) => ({\r\n  type: GOODS_ACTIONS.SET_GOODS_SUCCESS_SEARCHHEADER,\r\n  payloadHeader,\r\n});\r\n\r\nexport const setGoodsFailure = () => ({\r\n  type: GOODS_ACTIONS.SET_GOODS_FAILURE,\r\n});\r\n\r\nexport const fetchGoods =\r\n  (params: string) => async (dispatch: any, _getState: unknown, api: Api) => {\r\n    dispatch(setGoods());\r\n    try {\r\n      const payload = await api.getGoods(params);\r\n      dispatch(setGoodsSuccess(payload));\r\n    } catch (error) {\r\n      dispatch(setGoodsFailure());\r\n    }\r\n  };\r\n\r\nexport const fetchGoodsSearchHeader =\r\n  (params: string) => async (dispatch: any, getState: unknown, api: Api) => {\r\n    try {\r\n      const payload = await api.getGoods(params);\r\n      dispatch(setGoodsSuccessSearchHeader(payload));\r\n    } catch (error) {\r\n      dispatch(setGoodsFailure());\r\n    }\r\n  };\r\n\r\nexport const fetchCategoryGoods =\r\n  (paramsCategory: string, paramsGoods: string) =>\r\n  async (dispatch: any, _getState: unknown, api: Api) => {\r\n    dispatch(setGoods());\r\n    try {\r\n      Promise.all([\r\n        api.getCategories(paramsCategory),\r\n        api.getGoods(paramsGoods),\r\n      ]).then((resp) => {\r\n        dispatch(setCategoriesSuccess(resp[0].categories));\r\n        dispatch(setGoodsSuccess(resp[1]));\r\n      });\r\n    } catch (error) {\r\n      dispatch(setGoodsFailure());\r\n    }\r\n  };\r\n","import \"./styles.css\";\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <div className=\"lds-ellipsis\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n","import { LOAD_STATUSES } from \"../constatns\";\r\n\r\nexport interface UserTokenType {\r\n  login: string;\r\n  token: string;\r\n}\r\n\r\nexport interface UserStateType {\r\n  user: UserTokenType;\r\n  isAuth: boolean;\r\n  errorMessage: string;\r\n  loadStatus: LOAD_STATUSES;\r\n}\r\n\r\nexport enum USER_ACTIONS {\r\n  CHANGE_LOAD_STATUS = \"userData/changeLoadStatus\",\r\n  SET_USER = \"userData/setUser\",\r\n  SET_USER_SUCCESS = \"userData/setUserSuccess\",\r\n  SET_USER_FAILURE = \"userData/setUserFalure\",\r\n  SET_ERROR_MESSAGE = \"userData/setErrorMessage\",\r\n  SET_USER_EXIT = \"userData/setUsetExit\"\r\n}\r\n","import { USER_ACTIONS, UserTokenType } from \"./constans\";\r\nimport { UserRegType } from \"../../components/RegisterPage\";\r\nimport { UserType } from \"../../components/LoginPage\";\r\nimport { LOAD_STATUSES } from \"../constatns\";\r\nimport { notification } from \"antd\";\r\nimport { Api } from \"../../api\";\r\n\r\nexport const setUserSuccess = (payload: UserTokenType) => ({\r\n  type: USER_ACTIONS.SET_USER_SUCCESS,\r\n  payload,\r\n});\r\n\r\nexport const changeLoadStatus = (payload: LOAD_STATUSES) => ({\r\n  type: USER_ACTIONS.CHANGE_LOAD_STATUS,\r\n  loadStatus: payload,\r\n});\r\n\r\nexport const setUserExit = () => ({\r\n  type: USER_ACTIONS.SET_USER_EXIT,\r\n});\r\n\r\nexport const setErrorMessage = (payload: string) => ({\r\n  type: USER_ACTIONS.SET_ERROR_MESSAGE,\r\n  errorMessage: payload,\r\n});\r\n\r\nexport const exitUser = () => (dispatch: any) => {\r\n  dispatch(setUserExit());\r\n  localStorage.removeItem(\"userToken\");\r\n};\r\n\r\nexport const fetchReg =\r\n  (dataUser: UserRegType) =>\r\n  async (dispatch: any, _getState: unknown, api: Api) => {\r\n    dispatch(changeLoadStatus(LOAD_STATUSES.LOADING));\r\n    try {\r\n      const resp = await api.getUser(dataUser, \"registration\");\r\n      if (typeof resp !== \"string\") {\r\n        dispatch(changeLoadStatus(LOAD_STATUSES.SUCCESS));\r\n        notification.open({\r\n          message: \"–í—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é\",\r\n          duration: 2,\r\n        });\r\n      } else {\r\n        dispatch(setErrorMessage(resp));\r\n        throw new Error(\"–æ—à–∏–±–∫–∞\");\r\n      }\r\n    } catch (error) {\r\n      dispatch(changeLoadStatus(LOAD_STATUSES.FAILURE));\r\n    }\r\n  };\r\n\r\nexport const fetchLogin =\r\n  (loginUser: UserType) =>\r\n  async (dispatch: any, _getState: unknown, api: Api) => {\r\n    dispatch(changeLoadStatus(LOAD_STATUSES.LOADING));\r\n    try {\r\n      const resp = await api.getUser(loginUser, \"login\");\r\n      if (typeof resp !== \"string\") {\r\n        localStorage.setItem(\"userToken\", JSON.stringify(resp) as string);\r\n        notification.open({\r\n          message: \"–í—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é\",\r\n          duration: 2,\r\n        });\r\n        api.token = resp.token\r\n        dispatch(setUserSuccess(resp));\r\n      } else {\r\n        dispatch(setErrorMessage(resp));\r\n        throw new Error(\"–æ—à–∏–±–∫–∞\");\r\n      }\r\n    } catch (error) {\r\n      dispatch(changeLoadStatus(LOAD_STATUSES.FAILURE));\r\n    }\r\n  };\r\n\r\nexport const getTokenFromStorage = () => (dispatch: any) => {\r\n  if (localStorage.getItem(\"userToken\")) {\r\n    const user: UserTokenType = JSON.parse(\r\n      localStorage.getItem(\"userToken\") as string\r\n    );\r\n    dispatch(setUserSuccess(user));\r\n  }\r\n};\r\n","import { LOAD_STATUSES } from \"../constatns\";\r\nimport { CategoryListType } from \"../../components/CategoryList/CategoryList\";\r\n\r\nexport enum POP_GOODS_ACTIONS {\r\n  SET_POP_GOODS = \"popGoodsList/setPopGoods\",\r\n  SET_POP_GOODS_SUCCESS = \"popGoodsList/setPopGoodsSuccess\",\r\n  SET_POP_GOODS_FAILURE = \"popGoodsList/setPopGoodsFalure\",\r\n}\r\n\r\nexport interface PopGoodsType {\r\n  popGoods: CategoryListType[];\r\n  loadStatus: LOAD_STATUSES;\r\n}\r\n","import { GoodsCardType } from \"../../store/goodsReducer\";\r\nimport { CART_ACTIONS } from \"./constans\";\r\nimport { BUTTON_STATUS } from \"../../components/GoodsPage\";\r\nimport { Api } from \"../../api\";\r\nimport { setErrorMessage } from \"../userReducer/actionCreators\";\r\n\r\nexport const setCart = () => ({\r\n  type: CART_ACTIONS.SET_CART,\r\n});\r\n\r\nexport const setCartSuccess = (payload: GoodsCardType[]) => ({\r\n  type: CART_ACTIONS.SET_CART_SUCCESS,\r\n  payload,\r\n});\r\n\r\nexport const setCartFailure = () => ({\r\n  type: CART_ACTIONS.SET_CART_FAILURE,\r\n});\r\n\r\nexport const fetchCart =\r\n  () => async (dispatch: any, _getState: unknown, api: Api) => {\r\n    dispatch(setCart());\r\n    try {\r\n      const resp = await api.get–°art();\r\n      if (typeof resp !== \"string\") {\r\n        dispatch(setCartSuccess(resp));\r\n      } else {\r\n        dispatch(setErrorMessage(resp));\r\n        throw new Error(\"–æ—à–∏–±–∫–∞\");\r\n      }\r\n    } catch (error) {\r\n      dispatch(setCartFailure());\r\n    }\r\n  };\r\n\r\nexport const changeCart =\r\n  (data: GoodsCardType, status: string) =>\r\n  async (dispatch: any, _getState: unknown, api: Api) => {\r\n    let method = \"\";\r\n    status === BUTTON_STATUS.delFromCart\r\n      ? (method = \"DELETE\")\r\n      : (method = \"PUT\");\r\n    try {\r\n      dispatch(setCart());\r\n      const resp = await api.changeCart(data, method);\r\n      if (typeof resp !== \"string\") {\r\n        dispatch(fetchCart());\r\n      } else {\r\n        dispatch(setErrorMessage(resp));\r\n        throw new Error(\"–æ—à–∏–±–∫–∞\");\r\n      }\r\n    } catch (err) {\r\n      dispatch(setCartFailure());\r\n    }\r\n  };\r\n","import { LOAD_STATUSES } from \"../constatns\";\r\nimport { Action } from \"redux\";\r\nimport { USER_ACTIONS } from \"./constans\";\r\nimport type { UserStateType, UserTokenType } from \"./constans\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: { login: \"\", token: \"\" },\r\n  isAuth: false,\r\n  errorMessage: \"\",\r\n  loadStatus: LOAD_STATUSES.UNKNOWN,\r\n};\r\n\r\nexport const userReducer = (\r\n  store: UserStateType = INITIAL_STATE,\r\n  action: Action<USER_ACTIONS>\r\n): UserStateType => {\r\n  switch (action.type) {\r\n    case USER_ACTIONS.CHANGE_LOAD_STATUS:\r\n      let { loadStatus } = action as {\r\n        type: USER_ACTIONS.CHANGE_LOAD_STATUS;\r\n        loadStatus: LOAD_STATUSES;\r\n      };\r\n      return {\r\n        ...store,\r\n        loadStatus,\r\n      };\r\n    case USER_ACTIONS.SET_USER_SUCCESS:\r\n      let { payload } = action as {\r\n        type: USER_ACTIONS.SET_USER_SUCCESS;\r\n        payload: UserTokenType;\r\n      };\r\n      return {\r\n        ...store,\r\n        user: payload,\r\n        isAuth: true,\r\n        loadStatus: LOAD_STATUSES.SUCCESS,\r\n      };\r\n    case USER_ACTIONS.SET_ERROR_MESSAGE:\r\n      let { errorMessage } = action as {\r\n        type: USER_ACTIONS.SET_ERROR_MESSAGE;\r\n        errorMessage: string;\r\n      };\r\n      return {\r\n        ...store,\r\n        errorMessage,\r\n      };\r\n    case USER_ACTIONS.SET_USER_EXIT:\r\n      return {\r\n        ...store,\r\n        user: { login: \"\", token: \"\" },\r\n        isAuth: false,\r\n        loadStatus: LOAD_STATUSES.START,\r\n      };\r\n    default:\r\n      return store;\r\n  }\r\n};\r\n","import { RootState } from \"../store\";\r\n\r\nexport const getUser = (state: RootState) => state.userData.user;\r\n\r\nexport const getIsAuth = (state: RootState) => state.userData.isAuth;\r\n\r\nexport const getErrorMessage = (state: RootState) =>\r\n  state.userData.errorMessage;\r\n\r\nexport const getUserLoadStatus = (state: RootState) =>\r\n  state.userData.loadStatus;\r\n","import {\r\n  Layout,\r\n  Badge,\r\n  AutoComplete,\r\n  Avatar,\r\n  Button,\r\n  notification,\r\n} from \"antd\";\r\nimport { debounce } from \"lodash\";\r\nimport {\r\n  ShoppingCartOutlined,\r\n  ShoppingOutlined,\r\n  UserOutlined,\r\n  MenuOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport css from \"./styles.module.css\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { cartActions, cartSelectors } from \"../../store/cartReducer\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { LINKS } from \"../App\";\r\nimport { goodsAction, goodsSelectors } from \"../../store/goodsReducer\";\r\nimport { LOAD_STATUSES } from \"../../store/constatns\";\r\nimport { userSelectors, userActions } from \"../../store/userReducer\";\r\n\r\nexport const Header = () => {\r\n  const { Header } = Layout;\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const status = useSelector(userSelectors.getIsAuth);\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    dispatch(cartActions.fetchCart());\r\n  }, [dispatch]);\r\n\r\n  const cart = useSelector(cartSelectors.getCart);\r\n  let amountCart: number;\r\n  amountCart = cart ? cart.length : 0;\r\n\r\n  const btn = (\r\n    <Button\r\n      type=\"primary\"\r\n      onClick={() => {\r\n        dispatch(userActions.exitUser());\r\n        notification.close(\"close\");\r\n        navigate(LINKS.logo);\r\n      }}\r\n    >\r\n      –î–∞\r\n    </Button>\r\n  );\r\n\r\n  const handlerChangeStatus = () => {\r\n    status\r\n      ? notification.open({\r\n          message: \"–í—ã—Ö–æ–¥–∏—Ç–µ —Å –∞–∫–∫–∞—É–Ω—Ç–∞?\",\r\n          key: \"close\",\r\n          btn,\r\n        })\r\n      : navigate(LINKS.logo);\r\n  };\r\n\r\n  const selectGoods = (value: string) => {\r\n    setValue(value);\r\n    if (value) {\r\n      dispatch(goodsAction.fetchGoodsSearchHeader(`text=${value.trim()}`));\r\n    }\r\n  };\r\n  const selectGoodsDebounced = useCallback(debounce(selectGoods, 1500), []);\r\n\r\n  const dataSearchHeader = useSelector(goodsSelectors.getItemsSearchHeader);\r\n  const loadStatus = useSelector(goodsSelectors.getGoodsLoadStatus);\r\n\r\n  let options = [];\r\n\r\n  if (\r\n    dataSearchHeader.length === 0 &&\r\n    value &&\r\n    loadStatus === LOAD_STATUSES.SUCCESS\r\n  ) {\r\n    options = [{ value: \"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å\" }];\r\n  } else {\r\n    options = dataSearchHeader.map((item) => {\r\n      return { value: item.label, key: item.id };\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Header className={css.headerStyle}>\r\n      <Link to={LINKS.start}>\r\n        <div className={css.logos} />\r\n      </Link>\r\n      <AutoComplete\r\n        options={options}\r\n        placeholder=\"–≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞\"\r\n        style={{ width: 500, marginRight: \"10px\" }}\r\n        allowClear\r\n        onChange={(value) => selectGoodsDebounced(value)}\r\n        onSelect={(_, option) =>\r\n          setTimeout(() => {\r\n            navigate(LINKS.product + \"/\" + option.key);\r\n          }, 900)\r\n        }\r\n      />\r\n      <div className={css.menuHeader}>\r\n        <MenuOutlined />\r\n        <div className={css.menu}>\r\n          <Link to={LINKS.table}>\r\n            <div className={css.menuItem}>\r\n              <ShoppingOutlined />\r\n              <span>Sorting</span>\r\n            </div>\r\n          </Link>\r\n          <Link to={LINKS.cart}>\r\n            <div className={css.menuItem}>\r\n              <Badge count={amountCart}>\r\n                <ShoppingCartOutlined />\r\n              </Badge>\r\n              <span>Cart</span>\r\n            </div>\r\n          </Link>\r\n          <div className={css.menuItem} onClick={handlerChangeStatus}>\r\n            <Avatar\r\n              className={css.login}\r\n              style={\r\n                status\r\n                  ? { backgroundColor: \"#87d068\" }\r\n                  : { backgroundColor: \"#ccc\" }\r\n              }\r\n              icon={<UserOutlined />}\r\n            />\r\n            <span>Login</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Header>\r\n  );\r\n};\r\n","import { LOAD_STATUSES } from \"../constatns\";\r\nimport { CATEGORIES_ACTIONS, SideMenuType, CategoryType } from \"./constatns\";\r\nimport { Action } from \"redux\";\r\n\r\nconst INITIAL_STATE = { categories: [], loadStatus: LOAD_STATUSES.UNKNOWN };\r\n\r\nexport const categoriesReducer = (\r\n  store: SideMenuType = INITIAL_STATE,\r\n  action: Action<CATEGORIES_ACTIONS>\r\n): SideMenuType => {\r\n  switch (action.type) {\r\n    case CATEGORIES_ACTIONS.SET_CATEGORIES:\r\n      return {\r\n        ...store,\r\n        loadStatus: LOAD_STATUSES.LOADING,\r\n      };\r\n    case CATEGORIES_ACTIONS.SET_CATEGORIES_SUCCESS:\r\n      const { payload } = action as {\r\n        type: CATEGORIES_ACTIONS.SET_CATEGORIES_SUCCESS;\r\n        payload: CategoryType[];\r\n      };\r\n      return {\r\n        ...store,\r\n        categories: payload,\r\n        loadStatus: LOAD_STATUSES.SUCCESS,\r\n      };\r\n    case CATEGORIES_ACTIONS.SET_CATEGORIES_FAILURE:\r\n      return {\r\n        ...store,\r\n        loadStatus: LOAD_STATUSES.FAILURE,\r\n      };\r\n    default:\r\n      return store;\r\n  }\r\n};\r\n","import { RootState } from \"../store\";\r\n\r\nexport const getSideMenuItems = (state:RootState) => state.categoryItems.categories\r\nexport const getLoadStatusMenu = (state:RootState) => state.categoryItems.loadStatus","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { sideMenuSelectors } from \"../../store/categoriesReducer\";\r\nimport { useEffect } from \"react\";\r\nimport { menuActions } from \"../../store/categoriesReducer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Menu } from \"antd\";\r\nimport css from \"./styles.module.css\";\r\nimport { LOAD_STATUSES } from \"../../store/constatns\";\r\n\r\nexport const SideMenu: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const fetchCategoryItems = menuActions.fetchCategoryItems;\r\n  const loadStatusMenu = useSelector(sideMenuSelectors.getLoadStatusMenu);\r\n  const sideMenuItems = useSelector(sideMenuSelectors.getSideMenuItems);\r\n  const params: string = \"\";\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCategoryItems(params));\r\n  }, [dispatch, fetchCategoryItems, params]);\r\n\r\n  return (\r\n    <Menu className={css.sideMenu}>\r\n      {loadStatusMenu === LOAD_STATUSES.SUCCESS &&\r\n        sideMenuItems.map((item) => (\r\n          <Menu.Item key={item.id}>\r\n            <Link to={`/category/${String(item.id)}`}>{item.label}</Link>\r\n          </Menu.Item>\r\n        ))}\r\n      {loadStatusMenu === LOAD_STATUSES.FAILURE && (\r\n        <div>–û—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</div>\r\n      )}\r\n    </Menu>\r\n  );\r\n};\r\n","import { LOAD_STATUSES } from \"../constatns\";\r\nimport { Action } from \"redux\";\r\nimport { PopGoodsType, POP_GOODS_ACTIONS } from \"./constatns\";\r\nimport { CategoryListType } from \"../../components/CategoryList/CategoryList\";\r\n\r\nconst INITIAL_STATE = { popGoods: [], loadStatus: LOAD_STATUSES.UNKNOWN };\r\n\r\nexport const popGoodsReducer = (\r\n  store: PopGoodsType = INITIAL_STATE,\r\n  action: Action<POP_GOODS_ACTIONS>\r\n): PopGoodsType => {\r\n  switch (action.type) {\r\n    case POP_GOODS_ACTIONS.SET_POP_GOODS:\r\n      return {\r\n        ...store,\r\n        loadStatus: LOAD_STATUSES.LOADING,\r\n      };\r\n    case POP_GOODS_ACTIONS.SET_POP_GOODS_SUCCESS:\r\n      const { payload } = action as {\r\n        type: POP_GOODS_ACTIONS.SET_POP_GOODS_SUCCESS;\r\n        payload: CategoryListType[];\r\n      };\r\n      return {\r\n        ...store,\r\n        popGoods: payload,\r\n        loadStatus: LOAD_STATUSES.SUCCESS,\r\n      };\r\n    case POP_GOODS_ACTIONS.SET_POP_GOODS_FAILURE:\r\n      return {\r\n        ...store,\r\n        loadStatus: LOAD_STATUSES.FAILURE,\r\n      };\r\n    default:\r\n      return store;\r\n  }\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport css from \"./styles.module.css\";\r\nimport { Input, notification, Switch } from \"antd\";\r\nimport { LINKS } from \"../App\";\r\nimport { useNavigate } from \"react-router\";\r\nimport * as yup from \"yup\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { sideMenuSelectors, menuActions } from \"../../store/categoriesReducer\";\r\nimport { userSelectors, userActions } from \"../../store/userReducer\";\r\nimport { LOAD_STATUSES } from \"../../store/constatns\";\r\nimport { Loader } from \"../Loader\";\r\n\r\nexport const getDataForFetch = (obj: any) => {\r\n  let newObj: any = {};\r\n  for (let key in obj) {\r\n    if (obj[key]) {\r\n      newObj[key] = obj[key];\r\n    }\r\n  }\r\n  return newObj;\r\n};\r\n\r\nenum ERROR_MESSAGES {\r\n  NEED_SECRET_QUESTION = \"–≤–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å\",\r\n  OBLIGATORY_FIELD = \"–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ\",\r\n  BORN_THAN_1930 = \"–Ω–µ —Å—Ç–∞—Ä—à–µ 1930 –≥–æ–¥–∞ —Ä–æ–∂–¥–µ–Ω–∏—è\",\r\n  MIN_2_CATEGORIES = \"–≤—ã–±–µ—Ä–µ—Ç–µ –º–∏–Ω 2 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\",\r\n  MIN_6_CHARACTERS = \"–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤\",\r\n  PASSWORD_MISMATCH = \"–ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç\",\r\n  MIN_2_CHARACTERS = \"–º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞\",\r\n}\r\n\r\nexport interface UserRegType {\r\n  name: string;\r\n  surname?: string;\r\n  email: string;\r\n  password: string;\r\n  confirmPass?: string;\r\n  gender?: string;\r\n  interests: number[];\r\n  isSubscribe: boolean;\r\n  secretType: string;\r\n  secretAnswer: string;\r\n  bornAt?: string;\r\n}\r\n\r\nexport const RegisterPage = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const categories = useSelector(sideMenuSelectors.getSideMenuItems);\r\n  const loadStatus = useSelector(userSelectors.getUserLoadStatus);\r\n  const errorMessage = useSelector(userSelectors.getErrorMessage);\r\n  const [user, setUser] = useState<UserRegType>({\r\n    name: \"\",\r\n    surname: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPass: \"\",\r\n    gender: \"\",\r\n    interests: [],\r\n    isSubscribe: true,\r\n    secretType: \"\",\r\n    secretAnswer: \"\",\r\n    bornAt: undefined,\r\n  });\r\n\r\n  const [errors, setErrors] = useState<UserRegType>({\r\n    name: \"\",\r\n    surname: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPass: \"\",\r\n    gender: \"\",\r\n    interests: [],\r\n    isSubscribe: true,\r\n    secretType: \"\",\r\n    secretAnswer: \"\",\r\n    bornAt: \"\",\r\n  });\r\n\r\n  let schema = yup.object().shape({\r\n    secretType: yup.string(),\r\n    secretAnswer: yup.string().when(\"secretType\", {\r\n      is: (secretType: string) => Boolean(secretType),\r\n      then: yup.string().required(ERROR_MESSAGES.NEED_SECRET_QUESTION),\r\n    }),\r\n    bornAt: yup\r\n      .date()\r\n      .test((value) => Boolean(value))\r\n      .required(ERROR_MESSAGES.OBLIGATORY_FIELD)\r\n      .min(1930.01, ERROR_MESSAGES.BORN_THAN_1930),\r\n    isSubscribe: yup.boolean(),\r\n    interests: yup.array().min(2, ERROR_MESSAGES.MIN_2_CATEGORIES),\r\n    gender: yup.string(),\r\n    password: yup\r\n      .string()\r\n      .min(6, ERROR_MESSAGES.MIN_6_CHARACTERS)\r\n      .required(ERROR_MESSAGES.OBLIGATORY_FIELD),\r\n    confirmPass: yup\r\n      .string()\r\n      .test(\r\n        `is-${user.password}`,\r\n        ERROR_MESSAGES.PASSWORD_MISMATCH,\r\n        (value) => value === user.password\r\n      ),\r\n    email: yup.string().email().required(ERROR_MESSAGES.OBLIGATORY_FIELD),\r\n    surname: yup.string().min(2, ERROR_MESSAGES.MIN_2_CHARACTERS),\r\n    name: yup\r\n      .string()\r\n      .min(2, ERROR_MESSAGES.MIN_2_CHARACTERS)\r\n      .required(ERROR_MESSAGES.OBLIGATORY_FIELD),\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!user.name) {\r\n      dispatch(userActions.changeLoadStatus(LOAD_STATUSES.START));\r\n      dispatch(menuActions.fetchCategoryItems(\"\"));\r\n    }\r\n    if (loadStatus === LOAD_STATUSES.SUCCESS) {\r\n      navigate(LINKS.logo);\r\n      dispatch(userActions.changeLoadStatus(LOAD_STATUSES.START));\r\n    }\r\n  }, [dispatch, loadStatus, navigate, user]);\r\n\r\n  const handlerChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const target = e.target;\r\n    setErrors((prevErrors) => ({\r\n      ...prevErrors,\r\n      [target.name]: \"\",\r\n    }));\r\n    setUser((prevUser) => ({\r\n      ...prevUser,\r\n      [target.name]: target.value,\r\n    }));\r\n  };\r\n\r\n  const handlerCheckbox = (value: number) => {\r\n    if (user.interests.find((item) => item === value)) {\r\n      setUser((prevState) => ({\r\n        ...prevState,\r\n        interests: prevState.interests.filter((item) => item !== value),\r\n      }));\r\n    } else {\r\n      setUser((prevState) => ({\r\n        ...prevState,\r\n        interests: prevState.interests.concat([value]),\r\n      }));\r\n    }\r\n    setErrors((prevErrors) => ({\r\n      ...prevErrors,\r\n      interests: [],\r\n    }));\r\n  };\r\n\r\n  const handlerSwitch = (value: boolean) => {\r\n    setUser((prevState) => ({\r\n      ...prevState,\r\n      isSubscribe: value,\r\n    }));\r\n  };\r\n\r\n  const fetchDataUser = (data: UserRegType) => {\r\n    const dataUser = {\r\n      name: data.name,\r\n      surname: data.surname,\r\n      login: data.email,\r\n      password: data.password,\r\n      gender: data.gender,\r\n      interests: data.interests,\r\n      isSubscribe: data.isSubscribe,\r\n      secret: data.secretType\r\n        ? { type: data.secretType, answer: data.secretAnswer }\r\n        : data.secretType,\r\n      bornAt: data.bornAt,\r\n    };\r\n    const dataUserForFetch = getDataForFetch(dataUser);\r\n    dispatch(userActions.fetchReg(dataUserForFetch));\r\n  };\r\n\r\n  const handlerSubmit = () => {\r\n    schema\r\n      .validate(user, { abortEarly: false })\r\n      .then((value) => {\r\n        if (value) {\r\n          fetchDataUser(user);\r\n        } else throw new Error();\r\n      })\r\n      .catch((err) => {\r\n        const ValidationError = err.inner;\r\n        ValidationError.map((item: any) =>\r\n          setErrors((prevErrors) => ({\r\n            ...prevErrors,\r\n            [item.params.path]: item.errors[0],\r\n          }))\r\n        );\r\n        notification.open({\r\n          message: \"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã\",\r\n          duration: 1.5,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {loadStatus === LOAD_STATUSES.START && (\r\n        <div className={css.wrapper}>\r\n          <h1>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>\r\n          <div className={css.userForm}>\r\n            <section>\r\n              <div className={css.inputItem}>\r\n                <label>–ò–º—è:</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  value={user.name}\r\n                  name=\"name\"\r\n                  className={errors.name ? css.error : css.userInput}\r\n                  onChange={handlerChange}\r\n                />\r\n                <div className={css.errorMessage}>{errors.name}</div>\r\n              </div>\r\n              <div className={css.inputItem}>\r\n                <label>–§–∞–º–∏–ª–∏—è:</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  value={user.surname}\r\n                  name=\"surname\"\r\n                  className={errors.surname ? css.error : css.userInput}\r\n                  onChange={handlerChange}\r\n                />\r\n                <div className={css.errorMessage}>{errors.surname}</div>\r\n              </div>\r\n              <div className={css.inputItem}>\r\n                <label>–ü–æ—á—Ç–∞:</label>\r\n                <Input\r\n                  type=\"email\"\r\n                  value={user.email}\r\n                  name=\"email\"\r\n                  className={errors.email ? css.error : css.userInput}\r\n                  onChange={handlerChange}\r\n                />\r\n                <div className={css.errorMessage}>{errors.email}</div>\r\n              </div>\r\n              <div className={css.inputItem}>\r\n                <label>–ü–∞—Ä–æ–ª—å:</label>\r\n                <Input.Password\r\n                  type=\"password\"\r\n                  value={user.password}\r\n                  name=\"password\"\r\n                  className={errors.password ? css.error : css.userInput}\r\n                  onChange={handlerChange}\r\n                />\r\n                <div className={css.errorMessage}>{errors.password}</div>\r\n              </div>\r\n              <div className={css.inputItem}>\r\n                <label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</label>\r\n                <Input.Password\r\n                  type=\"password\"\r\n                  value={user.confirmPass}\r\n                  name=\"confirmPass\"\r\n                  className={\r\n                    user.confirmPass === user.password\r\n                      ? css.userInput\r\n                      : css.error\r\n                  }\r\n                  onChange={handlerChange}\r\n                />\r\n                <div className={css.errorMessage}>{errors.confirmPass}</div>\r\n              </div>\r\n              <div className={css.inputItem}>\r\n                <label>–ü–æ–ª:</label>\r\n                <Input\r\n                  type=\"radio\"\r\n                  id=\"male\"\r\n                  value=\"male\"\r\n                  name=\"gender\"\r\n                  onChange={handlerChange}\r\n                />\r\n                <label id=\"male\">–º—É–∂</label>\r\n                <Input\r\n                  type=\"radio\"\r\n                  id=\"femail\"\r\n                  value=\"female\"\r\n                  name=\"gender\"\r\n                  onChange={handlerChange}\r\n                />\r\n                <label id=\"female\">–∂–µ–Ω</label>\r\n              </div>\r\n            </section>\r\n            <section>\r\n              <div className={css.inputItem}>\r\n                <label>–õ—é–±–∏–º—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:</label>\r\n                {categories.map((item) => (\r\n                  <div key={item.id}>\r\n                    <Input\r\n                      type=\"checkbox\"\r\n                      name=\"interests\"\r\n                      onClick={() => handlerCheckbox(item.id)}\r\n                    />\r\n                    <label>{item.label}</label>\r\n                  </div>\r\n                ))}\r\n                <div className={css.errorMessage}>{errors.interests}</div>\r\n              </div>\r\n              <div className={css.inputItem}>\r\n                <label>–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –Ω–æ–≤–æ—Å—Ç–∏:</label>\r\n                <Switch\r\n                  size=\"small\"\r\n                  defaultChecked\r\n                  onChange={(checked) => handlerSwitch(checked)}\r\n                />\r\n              </div>\r\n              <div className={css.inputItem}>\r\n                <label>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</label>\r\n                <Input\r\n                  type=\"date\"\r\n                  value={user.bornAt}\r\n                  name=\"bornAt\"\r\n                  onChange={handlerChange}\r\n                />\r\n                <div className={css.errorMessage}>{errors.bornAt}</div>\r\n              </div>\r\n              <div className={css.inputItem}>\r\n                <label>–°–µ–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å:</label>\r\n                <Input\r\n                  type=\"text\"\r\n                  value={user.secretType}\r\n                  name=\"secretType\"\r\n                  className={errors.secretType ? css.error : css.userInput}\r\n                  onChange={handlerChange}\r\n                />\r\n              </div>\r\n              {user.secretType && (\r\n                <div className={css.inputItem}>\r\n                  <label>–æ—Ç–≤–µ—Ç:</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    value={user.secretAnswer}\r\n                    name=\"secretAnswer\"\r\n                    className={errors.secretAnswer ? css.error : css.userInput}\r\n                    onChange={handlerChange}\r\n                  />\r\n                  <div className={css.errorMessage}>{errors.secretAnswer}</div>\r\n                </div>\r\n              )}\r\n            </section>\r\n          </div>\r\n          <div className={css.linkBtn}>\r\n            <button className={css.button} onClick={handlerSubmit}>\r\n              –°–æ—Ö—Ä–∞–Ω–∏—Ç—å\r\n            </button>\r\n          </div>\r\n          <div className={css.linkBtn}>\r\n            <button\r\n              className={css.button}\r\n              onClick={() => navigate(LINKS.start)}\r\n            >\r\n              –û—Ç–º–µ–Ω–∞\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {loadStatus === LOAD_STATUSES.LOADING && <Loader />}\r\n      {loadStatus === LOAD_STATUSES.FAILURE && (\r\n        <div className={css.errorPage}>\r\n          {errorMessage},\r\n          <span onClick={() => navigate(-1)}>–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥ </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { RootState } from \"../store\";\r\nimport { CategoryListType } from \"../../components/CategoryList/CategoryList\";\r\n\r\n\r\nexport const getPopGoods = (state: RootState): CategoryListType[] =>\r\n  state.popGoodsList.popGoods;\r\n\r\nexport const getPopGoodsLoadStatus = (state: RootState) => state.popGoodsList.loadStatus\r\n","import { POP_GOODS_ACTIONS } from \"./constatns\";\r\nimport { CategoryListType } from \"../../components/CategoryList\";\r\nimport { Api } from \"../../api\";\r\n\r\nexport const getPopGoods = () => ({\r\n  type: POP_GOODS_ACTIONS.SET_POP_GOODS,\r\n});\r\n\r\nexport const getPopGoodsSuccess = (payload: CategoryListType[]) => ({\r\n  type: POP_GOODS_ACTIONS.SET_POP_GOODS_SUCCESS,\r\n  payload,\r\n});\r\n\r\nexport const getPopGoodsFailure = () => ({\r\n  type: POP_GOODS_ACTIONS.SET_POP_GOODS_FAILURE,\r\n});\r\n\r\nexport const fetchPopGoods =\r\n  () => async (dispatch: any, _getState: unknown, api: Api) => {\r\n    dispatch(getPopGoods());\r\n    try {\r\n      const payload = await api.getPopularCategories();\r\n      dispatch(getPopGoodsSuccess(payload));\r\n    } catch (error) {\r\n      dispatch(getPopGoodsFailure());\r\n    }\r\n  };\r\n","import { Card } from \"antd\";\r\nimport classNames from \"classnames\";\r\nimport css from \"./styles.module.css\";\r\nimport { GoodsCardType } from \"../../store/goodsReducer\";\r\n\r\n\r\n\r\nexport const GoodsCard: React.FC<GoodsCardType> = (props) => {\r\n  const { label, img, price} = props;\r\n  const classCard = classNames(css.card, { backgroundImage: `url (${img})` });\r\n  return (\r\n    <div className={css.mainCard}>\r\n      <Card className={classCard}>\r\n        <p className={css.title}>{label}</p>\r\n        <p>{price + \" —Ä—É–±.\"}</p>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { GoodsCard } from \"../GoodsCard\";\r\nimport { GoodsCardType } from \"../../store/goodsReducer\";\r\nimport { CategoryType } from \"../../store/categoriesReducer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport css from \"./styles.module.css\";\r\nimport { LINKS } from \"../App\";\r\n\r\nexport interface CategoryListType {\r\n  category: CategoryType;\r\n  items: GoodsCardType[];\r\n}\r\n\r\nexport const CategoryList: React.FC<CategoryListType> = (props) => {\r\n  const { category, items } = props;\r\n  return (\r\n    <div className={css.categoryList}>\r\n      <Link to={LINKS.category + \"/\" + category.id}>\r\n        <div className={css.title}>{category.label}</div>\r\n      </Link>\r\n      <div className={css.goodsList}>\r\n        {items.map((item) => (\r\n          <Link to={LINKS.product + \"/\" + item.id} key={item.id}>\r\n            <GoodsCard\r\n              label={item.label}\r\n              img={item.img}\r\n              price={item.price}\r\n              id={item.id}\r\n              categoryTypeId={item.categoryTypeId}\r\n            />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Row, Col } from \"antd\";\r\nimport { SideMenu } from \"../SideMenu\";\r\nimport css from \"./styles.module.css\";\r\nimport {\r\n  popGoodsAction,\r\n  popGoodsSelectors,\r\n} from \"../../store/popularGoodsReducer\";\r\nimport { CategoryList } from \"../CategoryList\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { LOAD_STATUSES } from \"../../store/constatns\";\r\nimport { Loader } from \"../Loader\";\r\n\r\nexport const StartPage: React.FC = () => {\r\n  const popGoods = useSelector(popGoodsSelectors.getPopGoods);\r\n  const popGoodsLoadStatus = useSelector(\r\n    popGoodsSelectors.getPopGoodsLoadStatus\r\n  );\r\n  const dispatch = useDispatch();\r\n  const fetchPopGoods = popGoodsAction.fetchPopGoods;\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPopGoods());\r\n  }, [dispatch, fetchPopGoods]);\r\n\r\n  return (\r\n    <div>\r\n      <Row className={css.menuBox}>\r\n        <Col span={6} className={css.sideMenu}>\r\n          <SideMenu />\r\n        </Col>\r\n        <Col span={24} className={css.sideMenu_mob}>\r\n          <SideMenu />\r\n        </Col>\r\n        <Col span={18} className={css.banner}></Col>\r\n      </Row>\r\n      <Row>\r\n        {popGoodsLoadStatus === LOAD_STATUSES.LOADING && <Loader />}\r\n        {popGoodsLoadStatus === LOAD_STATUSES.SUCCESS &&\r\n          popGoods.map((item) => (\r\n            <CategoryList\r\n              category={item.category}\r\n              items={item.items}\r\n              key={item.category.id}\r\n            />\r\n          ))}\r\n        {popGoodsLoadStatus === LOAD_STATUSES.FAILURE && (\r\n          <div className={css.error}>–û—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ</div>\r\n        )}\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n","import css from \"./styles.module.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\r\nimport { GoodsCard } from \"../GoodsCard\";\r\nimport { sideMenuSelectors } from \"../../store/categoriesReducer\";\r\nimport { goodsSelectors, goodsAction } from \"../../store/goodsReducer\";\r\nimport { Loader } from \"../Loader\";\r\nimport { LOAD_STATUSES } from \"../../store/constatns\";\r\nimport { LINKS } from \"../App\";\r\n\r\nexport const CategoryPage: React.FC = () => {\r\n  const { typeId } = useParams();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!typeId) {\r\n      return;\r\n    }\r\n\r\n    const categoryParams = \"ids=\" + typeId;\r\n    const goodsParams = \"categoryTypeIds=\" + typeId;\r\n\r\n    dispatch(goodsAction.fetchCategoryGoods(categoryParams, goodsParams));\r\n  }, [dispatch, typeId]);\r\n\r\n  const dataCategory = useSelector(sideMenuSelectors.getSideMenuItems);\r\n  const dataGoods = useSelector(goodsSelectors.getGoodsItems);\r\n  const pageStatus = useSelector(goodsSelectors.getGoodsLoadStatus);\r\n\r\n  if (!dataCategory || !dataGoods) {\r\n    return (\r\n      <div className={css.error}>\r\n        –°–¢–†–ê–ù–ò–¶–ê –ù–ï –ù–ê–ô–î–ï–ù–ê,\r\n        <span onClick={() => navigate(-1)}>–í–ï–†–ù–£–¢–¨–°–Ø –ù–ê–ó–ê–î</span>\r\n      </div>\r\n    );\r\n  } else\r\n    return (\r\n      <div>\r\n        {pageStatus === LOAD_STATUSES.LOADING && <Loader />}\r\n        {pageStatus === LOAD_STATUSES.SUCCESS && (\r\n          <div className={css.categoryList}>\r\n            <div className={css.title}>{dataCategory[0].label}</div>\r\n            <div className={css.goodsList}>\r\n              {dataGoods.map((item) => (\r\n                <Link to={LINKS.product + \"/\" + item.id} key={item.id}>\r\n                  <GoodsCard\r\n                    label={item.label}\r\n                    img={item.img}\r\n                    price={item.price}\r\n                    id={item.id}\r\n                    categoryTypeId={item.categoryTypeId}\r\n                  />\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n        {pageStatus === LOAD_STATUSES.FAILURE && (\r\n          <div className={css.error}>–û—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ</div>\r\n        )}\r\n      </div>\r\n    );\r\n};\r\n","import css from \"./styles.module.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { GoodsCard } from \"../GoodsCard\";\r\nimport { cartActions, cartSelectors } from \"../../store/cartReducer\";\r\nimport { LINKS } from \"../App\";\r\nimport { LOAD_STATUSES } from \"../../store/constatns\";\r\nimport { userSelectors } from \"../../store/userReducer\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport const CartPage: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(cartActions.fetchCart());\r\n  }, [dispatch]);\r\n\r\n  const dataCart = useSelector(cartSelectors.getCart);\r\n  const loadStatus = useSelector(cartSelectors.getCartLoadStatus);\r\n  const errorMessage = useSelector(userSelectors.getErrorMessage);\r\n  const navigate = useNavigate();\r\n\r\n  let titleCart: string = \"–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫\";\r\n  if (dataCart.length === 0) {\r\n    titleCart = \"–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫ –ø—É—Å—Ç–∞\";\r\n  }\r\n  return (\r\n    <div>\r\n      {loadStatus === LOAD_STATUSES.SUCCESS && (\r\n        <div className={css.categoryList}>\r\n          <div className={css.title}>{titleCart}</div>\r\n          <div className={css.goodsList}>\r\n            {dataCart.map((item) => (\r\n              <Link to={LINKS.product + \"/\" + item.id} key={item.id}>\r\n                <GoodsCard\r\n                  label={item.label}\r\n                  img={item.img}\r\n                  price={item.price}\r\n                  id={item.id}\r\n                  categoryTypeId={item.categoryTypeId}\r\n                />\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {loadStatus === LOAD_STATUSES.FAILURE && (\r\n        <div className={css.errorPage}>\r\n          {errorMessage},\r\n          <span onClick={() => navigate(-1)}>–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥ </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { Table, Pagination } from \"antd\";\r\nimport css from \"./styles.module.css\";\r\nimport { debounce } from \"lodash\";\r\nimport { Input, Select, Slider } from \"antd\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { goodsAction, goodsSelectors } from \"../../store/goodsReducer\";\r\nimport {\r\n  CategoryType,\r\n  sideMenuSelectors,\r\n  menuActions,\r\n} from \"../../store/categoriesReducer\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { Loader } from \"../Loader\";\r\nimport { LOAD_STATUSES } from \"../../store/constatns\";\r\nimport type { GoodsCardType } from \"../../store/goodsReducer\";\r\nimport { LINKS } from \"../App\";\r\n\r\ninterface FiltersType {\r\n  limit: string;\r\n  offset: string;\r\n  text: string;\r\n  categoryTypeIds: string;\r\n  minPrice: string;\r\n  maxPrice: string;\r\n  sortBy: string;\r\n  sortDirection: string;\r\n}\r\n\r\nexport const GoodsTablePage = () => {\r\n  const [page, setPage] = useState(3);\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [filters, setFilters] = useState<FiltersType>({\r\n    limit: \"\",\r\n    offset: \"\",\r\n    text: \"\",\r\n    categoryTypeIds: \"\",\r\n    minPrice: \"\",\r\n    maxPrice: \"\",\r\n    sortBy: \"\",\r\n    sortDirection: \"\",\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n  let navigate = useNavigate();\r\n\r\n  const getParams = (obj: any) => {\r\n    let newObj: any = {};\r\n    for (let key in obj) {\r\n      if (obj[key]) {\r\n        newObj[key] = obj[key];\r\n      }\r\n    }\r\n    return newObj;\r\n  };\r\n\r\n  const getDataFilter = (filtersToFetch: FiltersType) => {\r\n    const queryParams = getParams(filtersToFetch);\r\n    const searchParams = new URLSearchParams(queryParams).toString();\r\n    dispatch(goodsAction.fetchGoods(searchParams));\r\n  };\r\n  const memoizedFilter = useCallback(debounce(getDataFilter, 1500), []);\r\n  const categoriesItems: CategoryType[] = useSelector(\r\n    sideMenuSelectors.getSideMenuItems\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!categoriesItems[1]) {\r\n      dispatch(menuActions.fetchCategoryItems(\"\"));\r\n    }\r\n    memoizedFilter(filters);\r\n  }, [memoizedFilter, filters, categoriesItems, dispatch]);\r\n\r\n  const dataGoods: GoodsCardType[] = useSelector(goodsSelectors.getGoodsItems);\r\n  const totalItems: number = useSelector(goodsSelectors.getTotalGoodsItems);\r\n  const pageStatus = useSelector(goodsSelectors.getGoodsLoadStatus);\r\n  const maks = { 0: \"0\", 100: \"100—Ö10\" };\r\n\r\n  const setSort = (sortBy: string) => {\r\n    setFilters((prevFilters) => ({\r\n      ...prevFilters,\r\n      sortBy,\r\n      sortDirection: prevFilters.sortDirection === \"asc\" ? \"desc\" : \"asc\",\r\n    }));\r\n  };\r\n\r\n  const handlerFilterText = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFilters({\r\n      ...filters,\r\n      text: e.target.value,\r\n      offset: \"0\",\r\n      limit: \"10\",\r\n    });\r\n  };\r\n\r\n  const handlerFilterCategory = (value: string) => {\r\n    setFilters({\r\n      ...filters,\r\n      categoryTypeIds: value,\r\n      offset: \"0\",\r\n      limit: \"10\",\r\n    });\r\n  };\r\n\r\n  const handlerFilterPrice = (value: number[]) => {\r\n    setFilters({\r\n      ...filters,\r\n      minPrice: String(value[0] * 10),\r\n      maxPrice: String(value[1] * 10),\r\n      offset: \"0\",\r\n      limit: \"10\",\r\n    });\r\n  };\r\n\r\n  const handlerPagination = (page: number, pageSize: number | undefined) => {\r\n    setPage(page);\r\n    if (pageSize) {\r\n      setFilters({\r\n        ...filters,\r\n        limit: String(pageSize),\r\n        offset: String((page - 1) * pageSize),\r\n      });\r\n      setPageSize(pageSize);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: \"–ö–∞—Ç–µ–≥–æ—Ä–∏—è\",\r\n      dataIndex: \"type\",\r\n      width: 150,\r\n    },\r\n    {\r\n      title: \"–¢–æ–≤–∞—Ä\",\r\n      dataIndex: \"label\",\r\n      width: 150,\r\n      sorter: true,\r\n      onHeaderCell: () => {\r\n        return {\r\n          onClick: () => {\r\n            setSort(\"label\");\r\n          },\r\n        };\r\n      },\r\n    },\r\n    {\r\n      title: \"–¶–µ–Ω–∞\",\r\n      dataIndex: \"price\",\r\n      width: 150,\r\n      sorter: true,\r\n      onHeaderCell: () => {\r\n        return {\r\n          onClick: () => {\r\n            setSort(\"price\");\r\n          },\r\n        };\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className={css.tablePage}>\r\n      <div className={css.filters}>\r\n        <p className={css.filtersTitle}>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞:</p>\r\n        <div className={css.filterItem}>\r\n          <label className={css.titleItem}>–ü–æ —Ç–æ–≤–∞—Ä—É:</label>\r\n          <Input value={filters.text} onChange={handlerFilterText} />\r\n        </div>\r\n        <div className={css.filterItem}>\r\n          <label className={css.titleItem}>–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:</label>\r\n          <Input.Group>\r\n            <Select\r\n              defaultValue=\"–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤\"\r\n              style={{ width: \"70%\" }}\r\n              onChange={handlerFilterCategory}\r\n            >\r\n              {categoriesItems.map((item) => (\r\n                <Select.Option key={item.id} value={item.id}>\r\n                  {item.label}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Input.Group>\r\n        </div>\r\n        <div className={css.filterItem}>\r\n          <label className={css.titleItem}>–ü–æ —Ü–µ–Ω–µ:</label>\r\n          <Slider\r\n            marks={maks}\r\n            range\r\n            step={1}\r\n            defaultValue={[20, 50]}\r\n            onChange={handlerFilterPrice}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={css.table}>\r\n        {pageStatus === LOAD_STATUSES.LOADING && <Loader />}\r\n        {pageStatus === LOAD_STATUSES.SUCCESS && (\r\n          <div>\r\n            <Table\r\n              rowKey={(record) => record.id}\r\n              columns={columns}\r\n              dataSource={dataGoods}\r\n              pagination={false}\r\n              onRow={(record) => {\r\n                return {\r\n                  onClick: () => {\r\n                    navigate(LINKS.product + \"/\" + record.id);\r\n                  },\r\n                };\r\n              }}\r\n            />\r\n            <Pagination\r\n              onChange={handlerPagination}\r\n              total={totalItems}\r\n              current={page}\r\n              pageSize={pageSize}\r\n            />\r\n          </div>\r\n        )}\r\n        {pageStatus === LOAD_STATUSES.FAILURE && (\r\n          <div className={css.error}>–û—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport css from \"./styles.module.css\";\r\nimport { Input } from \"antd\";\r\nimport { LINKS } from \"../App\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { userSelectors, userActions } from \"../../store/userReducer\";\r\nimport { LOAD_STATUSES } from \"../../store/constatns\";\r\nimport { Loader } from \"../Loader\";\r\n\r\nexport interface UserType {\r\n  login: string;\r\n  password: string;\r\n}\r\n\r\ninterface StateType {\r\n  values: UserType;\r\n  errors: UserType;\r\n}\r\n\r\nexport const LoginPage = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const errorMessage = useSelector(userSelectors.getErrorMessage);\r\n  const loadStatus = useSelector(userSelectors.getUserLoadStatus);\r\n  const [state, setState] = useState<StateType>({\r\n    values: { login: \"\", password: \"\" },\r\n    errors: { login: \"\", password: \"\" },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!state.values.login) {\r\n      dispatch(userActions.changeLoadStatus(LOAD_STATUSES.START));\r\n    }\r\n  }, [dispatch, navigate, state]);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const target = e.target;\r\n    setState((prevState) => ({\r\n      values: { ...prevState.values, [target.name]: target.value },\r\n      errors: { ...prevState.errors, [target.name]: \"\" },\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!state.values.login.trim()) {\r\n      setState((prevState) => ({\r\n        errors: { ...prevState.errors, login: \"–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ\" },\r\n        values: { ...prevState.values, login: \"\" },\r\n      }));\r\n      return;\r\n    }\r\n    if (!state.values.password.trim()) {\r\n      setState((prevState) => ({\r\n        errors: { ...prevState.errors, password: \"–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ\" },\r\n        values: { ...prevState.values, password: \"\" },\r\n      }));\r\n      return;\r\n    }\r\n    dispatch(userActions.fetchLogin(state.values));\r\n  };\r\n\r\n  const {\r\n    values: { login, password },\r\n    errors: { login: errorLogin, password: errorPass },\r\n  } = state;\r\n\r\n  return (\r\n    <div>\r\n      {loadStatus === LOAD_STATUSES.START && (\r\n        <div className={css.wrapper}>\r\n          <h1>–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å</h1>\r\n          <form className={css.userForm} onSubmit={handleSubmit}>\r\n            <div>\r\n              <label>–í–∞—à –ª–æ–≥–∏–Ω:</label>\r\n              <div>\r\n                <Input\r\n                  type=\"text\"\r\n                  value={login}\r\n                  name=\"login\"\r\n                  className={errorLogin ? css.error : css.userName}\r\n                  onChange={handleChange}\r\n                  placeholder={errorLogin}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <label>–í–∞—à –ø–∞—Ä–æ–ª—å:</label>\r\n              <div>\r\n                <Input\r\n                  type=\"password\"\r\n                  value={password}\r\n                  name=\"password\"\r\n                  className={errorPass ? css.error : css.userPass}\r\n                  onChange={handleChange}\r\n                  placeholder={errorPass}\r\n                />\r\n              </div>\r\n            </div>\r\n            <button type=\"submit\" className={css.button}>\r\n              –í–æ–π—Ç–∏\r\n            </button>\r\n          </form>\r\n          <div className={css.linkBtn}>\r\n            <button className={css.button} onClick={() => navigate(LINKS.reg)}>\r\n              –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {loadStatus === LOAD_STATUSES.LOADING && <Loader />}\r\n      {loadStatus === LOAD_STATUSES.FAILURE && (\r\n        <div className={css.errorPage}>\r\n          {errorMessage},\r\n          <span onClick={() => navigate(-1)}>–≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥ </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import \"antd/dist/antd.css\";\r\nimport css from \"./styles.module.css\"\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { Footer } from \"../Footer\";\r\nimport { Header } from \"../Header\";\r\nimport { StartPage } from \"../StartPage\";\r\nimport { GoodsPage } from \"../GoodsPage\";\r\nimport { CategoryPage } from \"../CategoryPage\";\r\nimport { CartPage } from \"../CartPage\";\r\nimport { GoodsTablePage } from \"../GoodsTablePage\";\r\nimport { LoginPage } from \"../LoginPage\";\r\nimport { RegisterPage } from \"../RegisterPage\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { userSelectors, userActions } from \"../../store/userReducer\";\r\n\r\n\r\nexport enum LINKS {\r\n  start = \"/\",\r\n  product = \"/product\",\r\n  category = \"/category\",\r\n  logo = \"/login\",\r\n  reg = \"/reg\",\r\n  cart = \"/cart\",\r\n  table = \"/table\",\r\n  id = \"/:id\",\r\n  typeId = \"/:typeId\",\r\n}\r\n\r\nexport const App = () => {\r\n  const dispatch = useDispatch();\r\n  const isAuth = useSelector(userSelectors.getIsAuth);\r\n\r\n  useEffect(() => {\r\n    dispatch(userActions.getTokenFromStorage());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className={css.wrapper}>\r\n      <Header />\r\n      <Routes>\r\n        <Route\r\n          path={LINKS.logo}\r\n          element={isAuth ? <Navigate to={LINKS.start} /> : <LoginPage />}\r\n        />\r\n        <Route\r\n          path={LINKS.reg}\r\n          element={isAuth ? <Navigate to={LINKS.start} /> : <RegisterPage />}\r\n        />\r\n        <Route path={LINKS.table} element={<GoodsTablePage />} />\r\n        <Route path={LINKS.cart} element={<CartPage />} />\r\n        <Route path={LINKS.product + LINKS.id} element={<GoodsPage />} />\r\n        <Route\r\n          path={LINKS.category + LINKS.typeId}\r\n          element={<CategoryPage />}\r\n        />\r\n        <Route path={LINKS.start} element={<StartPage />} />\r\n        <Route path=\"*\" element={<Navigate to={LINKS.start} />} />\r\n      </Routes>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n","import type { CategoryType } from \"../store/categoriesReducer\";\r\nimport type { CategoryListType } from \"../components/CategoryList\";\r\nimport type { GoodsType, GoodsCardType } from \"../store/goodsReducer\";\r\nimport type { UserRegType } from \"../components/RegisterPage\";\r\nimport type { UserType } from \"../components/LoginPage\";\r\n\r\ninterface ApiType {\r\n  token: string;\r\n  getCategories: (params: string) => Promise<{ categories: CategoryType[] }>;\r\n  getPopularCategories: () => Promise<CategoryListType[]>;\r\n  getGoods: (params: string) => Promise<GoodsType[]>;\r\n  get–°art: () => Promise<any>;\r\n  changeCart: (data: GoodsCardType, method: string) => Promise<any>;\r\n  getUser: (data: UserType | UserRegType, path: string) => Promise<any>;\r\n}\r\n\r\nexport class Api implements ApiType {\r\n  private static _instance: ApiType;\r\n  public token = \"\";\r\n  constructor(token = \"\") {\r\n    if (Api._instance) {\r\n      return Api._instance;\r\n    }\r\n    Api._instance = this;\r\n    this.token = token;\r\n  }\r\n\r\n  getCategories(params: string): Promise<{ categories: CategoryType[] }> {\r\n    return fetch(`/api/categories?${params}`).then((resp) => {\r\n      if (resp.ok) {\r\n        return resp.json();\r\n      }\r\n    });\r\n  }\r\n\r\n  getPopularCategories(): Promise<CategoryListType[]> {\r\n    return fetch(\"/api/popular_categories\").then((resp) => {\r\n      if (resp.ok) {\r\n        return resp.json();\r\n      }\r\n    });\r\n  }\r\n\r\n  getGoods(params: string): Promise<GoodsType[]> {\r\n    return fetch(`/api/goods?${params}`).then((resp) => {\r\n      if (resp.ok) {\r\n        return resp.json();\r\n      }\r\n    });\r\n  }\r\n\r\n  get–°art(): Promise<any> {\r\n    return fetch(\"/api/cart\", {\r\n      headers: { Authorization: `Bearer ${this.token}` },\r\n    }).then((resp) => {\r\n      if (resp.ok) {\r\n        return resp.json();\r\n      } else {\r\n        return resp.text();\r\n      }\r\n    });\r\n  }\r\n\r\n  changeCart(data: GoodsCardType, method: string): Promise<any> {\r\n    return fetch(\"/api/cart\", {\r\n      method: method,\r\n      headers: { Authorization: `Bearer ${this.token}` },\r\n      body: JSON.stringify(data),\r\n    }).then((resp) => {\r\n      if (resp.ok) {\r\n        return resp.json();\r\n      } else {\r\n        return resp.text();\r\n      }\r\n    });\r\n  }\r\n\r\n  getUser(data: UserType | UserRegType, path: string): Promise<any> {\r\n    return fetch(`/api/${path}`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    }).then((resp) => {\r\n      if (resp.ok) {\r\n        return resp.json();\r\n      } else {\r\n        return resp.text();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { categoriesReducer } from \"./categoriesReducer\";\r\nimport { popGoodsReducer } from \"./popularGoodsReducer\";\r\nimport { cartReducer } from \"./cartReducer\";\r\nimport { goodsReducer } from \"./goodsReducer\";\r\nimport { userReducer } from \"./userReducer\";\r\nimport { Api } from \"../api\";\r\n\r\nconst api = new Api()\r\n\r\nconst reducer = combineReducers({\r\n  categoryItems: categoriesReducer,\r\n  popGoodsList: popGoodsReducer,\r\n  cartData: cartReducer,\r\n  goodsData: goodsReducer,\r\n  userData: userReducer,\r\n})\r\n\r\n\r\nexport const store = createStore(reducer, compose( applyMiddleware(thunk.withExtraArgument(api)),\r\n// @ts-ignore\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__() \r\n));\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\n\r\n","import { createServer, Model, belongsTo, Factory, Response } from \"miragejs\";\r\nimport faker from \"faker\";\r\nimport * as yup from \"yup\";\r\nimport orderBy from \"lodash.orderby\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst prodcutSchema = yup.object().shape({\r\n  categoryTypeId: yup.string().required(),\r\n  description: yup.string().required(),\r\n  id: yup.string().required(),\r\n  img: yup.string().required(),\r\n  label: yup.string().required(),\r\n  price: yup.string().required(),\r\n});\r\n\r\nconst userCredentialsSchema = yup.object().shape({\r\n  login: yup.string().required(),\r\n  password: yup.string().required(),\r\n});\r\n\r\nconst getValidator = (schema) => async (entity) => {\r\n  return schema\r\n    .validate(entity, { abortEarly: false })\r\n    .then(() => [])\r\n    .catch(({ inner }) =>\r\n      inner.map((e) => e.message?.split(\" at createError\")[0] ?? e)\r\n    );\r\n};\r\n\r\nconst validateProduct = getValidator(prodcutSchema);\r\nconst validateUserCredentials = getValidator(userCredentialsSchema);\r\n\r\nconst JWT_SECRET = \"secret\";\r\nconst DEFAULT_HEADERS = {};\r\n\r\nconst logBackendError = (e) => {\r\n  console.groupCollapsed('–û—à–∏–±–∫–∞ –≤ —Ñ–∞–π–ª–µ \"server.js\"');\r\n  console.log(e);\r\n  console.groupEnd();\r\n};\r\n\r\nconst RESPONSE_MESSAGES = {\r\n  INVALID_TOKEN:\r\n    \"–î–∞–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω)\",\r\n  USER_NOT_FOUND: \"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω\",\r\n  USER_ALREADY_EXISTS: \"–¢–∞–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç\",\r\n  CART_PRODUCT_NOT_FOUND: \"–ü—Ä–æ–¥—É–∫—Ç –Ω–µ –≤ –∫–æ—Ä–∑–∏–Ω–µ\",\r\n  CART_PRODUCT_ALREADY_EXISTS: \"–ü—Ä–æ–¥—É–∫—Ç —É–∂–µ –≤ –∫–æ—Ä–∑–∏–Ω–µ\",\r\n};\r\n\r\nconst RESPONSE_CODES = {\r\n  OK: 200,\r\n  BAD_REQUEST: 400,\r\n  FORBIDDEN: 403,\r\n  NOT_FOUND: 404,\r\n  INTERNAL_SERVER_ERROR: 500,\r\n};\r\n\r\nconst APP_CONFIG = {\r\n  DEFAULT_RESPONSE_DELAY: 2000,\r\n  TOKEN_TTL: \"24h\",\r\n  USE_AUTH_CHECK: true,\r\n};\r\n\r\nconst verifyRequest = (request, users) => {\r\n  if (!APP_CONFIG.USE_AUTH_CHECK) {\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const token = (request.requestHeaders.Authorization || \"\").split(\" \")[1];\r\n    const credentials = jwt.verify(token, JWT_SECRET);\r\n\r\n    const user = users.findBy({\r\n      login: credentials.login,\r\n      password: credentials.password,\r\n    });\r\n\r\n    if (!user) {\r\n      return new Response(\r\n        RESPONSE_CODES.FORBIDDEN,\r\n        DEFAULT_HEADERS,\r\n        RESPONSE_MESSAGES.INVALID_TOKEN\r\n      );\r\n    }\r\n  } catch (e) {\r\n    if (e?.name !== \"JsonWebTokenError\") {\r\n      logBackendError(e);\r\n    }\r\n\r\n    return new Response(\r\n      RESPONSE_CODES.FORBIDDEN,\r\n      DEFAULT_HEADERS,\r\n      RESPONSE_MESSAGES.INVALID_TOKEN\r\n    );\r\n  }\r\n};\r\n\r\ncreateServer({\r\n  models: {\r\n    category: Model,\r\n\r\n    good: Model.extend({\r\n      categoryType: belongsTo(\"category\"),\r\n    }),\r\n\r\n    cart: Model,\r\n\r\n    user: Model,\r\n  },\r\n\r\n  factories: {\r\n    good: Factory.extend({\r\n      label: () => faker.commerce.productName(),\r\n      price: () => faker.commerce.price(1, 1000),\r\n      description: () => faker.commerce.productDescription(),\r\n      img: \"https://source.unsplash.com/random\",\r\n    }),\r\n  },\r\n\r\n  seeds(server) {\r\n    const CATEGORIES = [\r\n      { type: \"house\", label: \" –î–æ–º, —Å–∞–¥, –∑–æ–æ—Ç–æ–≤–∞—Ä—ã\" },\r\n      { type: \"children\", label: \"–î–µ—Ç—è–º –∏ –º–∞–º–∞–º\" },\r\n      { type: \"cosmetics\", label: \"–ö–æ—Å–º–µ—Ç–∏–∫–∞, –ø–∞—Ä—Ñ—é–º–µ—Ä–∏—è\" },\r\n      { type: \"souvenirs\", label: \"–°—É–≤–µ–Ω–∏—Ä—ã, –≥–∞–ª–∞–Ω—Ç–µ—Ä–µ—è\" },\r\n      { type: \"books\", label: \"–ö–Ω–∏–≥–∏\" },\r\n      { type: \"products\", label: \"–ü—Ä–æ–¥—É–∫—Ç—ã, –¥–µ–ª–∏–∫–∞—Ç–µ—Å—ã\" },\r\n      { type: \"entertainment\", label: \"–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ\" },\r\n      { type: \"electronics\", label: \"–¢–µ—Ö–Ω–∏–∫–∞, —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞\" },\r\n      { type: \"studies\", label: \"–ö–∞–Ω—Ü—Ç–æ–≤–∞—Ä—ã, —É—á—ë–±–∞\" },\r\n      { type: \"sport\", label: \"–¢—É—Ä–∏–∑–º, –æ—Ç–¥—ã—Ö, —Å–ø–æ—Ä—Ç\" },\r\n      { type: \"health\", label: \"–ó–¥–æ—Ä–æ–≤—å–µ, –º–µ–¥—Ç–µ—Ö–Ω–∏–∫–∞\" },\r\n    ];\r\n\r\n    CATEGORIES.forEach((category) => {\r\n      const serverCategory = server.create(\"category\", category);\r\n\r\n      server.createList(\"good\", 20, {\r\n        categoryTypeId: serverCategory.id,\r\n        type: category.label,\r\n      });\r\n    });\r\n\r\n    server.create(\"user\", { login: \"admin\", password: \"admin\" });\r\n  },\r\n\r\n  routes() {\r\n    this.namespace = \"api\";\r\n\r\n    this.get(\"/categories\", (schema, request) => {\r\n      const { ids } = request.queryParams;\r\n\r\n      const idsArray = ids?.split(\",\");\r\n\r\n      return schema.categories.where((category) => {\r\n        return idsArray?.includes(category.id) ?? true;\r\n      });\r\n    });\r\n\r\n    this.get(\"/popular_categories\", (schema) => {\r\n      const categories = schema.categories.all().models;\r\n\r\n      return categories.slice(0, 5).map((category) => {\r\n        const items = schema.goods.where({\r\n          categoryTypeId: category.id,\r\n        }).models;\r\n\r\n        return { category, items };\r\n      });\r\n    });\r\n\r\n    this.get(\"/goods\", (schema, request) => {\r\n      const {\r\n        ids,\r\n        categoryTypeIds,\r\n        minPrice,\r\n        maxPrice,\r\n        text,\r\n        limit = 20,\r\n        offset = 0,\r\n        sortBy,\r\n        sortDirection = \"asc\",\r\n      } = request.queryParams;\r\n\r\n      const idsArray = ids?.split(\",\");\r\n      const categoryTypeIdsArray = categoryTypeIds?.split(\",\");\r\n      const minPriceValue = parseInt(minPrice, 10);\r\n      const maxPriceValue = parseInt(maxPrice, 10);\r\n\r\n      const filteredItems = schema.goods.where((good) => {\r\n        const isIdMatch = idsArray?.includes(good.id) ?? true;\r\n        const isTypeIdMatch =\r\n          categoryTypeIdsArray?.includes(good.categoryTypeId) ?? true;\r\n        const isMinPriceMatch = Number.isNaN(minPriceValue)\r\n          ? true\r\n          : good.price >= minPriceValue;\r\n        const isMaxPriceMatch = Number.isNaN(maxPriceValue)\r\n          ? true\r\n          : good.price <= maxPriceValue;\r\n        const isTextMatch = text\r\n          ? good.label.toLowerCase().includes(text.toLowerCase())\r\n          : true;\r\n\r\n        return [\r\n          isIdMatch,\r\n          isTypeIdMatch,\r\n          isMinPriceMatch,\r\n          isMaxPriceMatch,\r\n          isTextMatch,\r\n        ].every(Boolean);\r\n      }).models;\r\n\r\n      const sortedItems = sortBy\r\n        ? orderBy(filteredItems, [sortBy], [sortDirection])\r\n        : filteredItems;\r\n\r\n      const offsetValue = parseInt(offset, 10);\r\n      const limitValue = parseInt(limit, 10);\r\n\r\n      return {\r\n        items: sortedItems.slice(offsetValue, offsetValue + limitValue),\r\n        total: sortedItems.length,\r\n      };\r\n    });\r\n\r\n    this.get(\"/cart\", (schema, request) => {\r\n      const authError = verifyRequest(request, schema.users);\r\n      if (authError) {\r\n        return authError;\r\n      }\r\n\r\n      return schema.carts\r\n        .all()\r\n        .models.map(({ attrs: { productId, ...restGood } }) => ({\r\n          ...restGood,\r\n          id: productId,\r\n        }));\r\n    });\r\n\r\n    this.put(\r\n      \"/cart\",\r\n      async (schema, request) => {\r\n        const authError = verifyRequest(request, schema.users);\r\n        if (authError) {\r\n          return authError;\r\n        }\r\n\r\n        try {\r\n          const product = JSON.parse(request.requestBody) ?? {};\r\n\r\n          const errors = await validateProduct(product);\r\n\r\n          const { id, ...productWithoutId } = product;\r\n          const cartProduct = { ...productWithoutId, productId: product.id };\r\n\r\n          if (errors.length) {\r\n            return new Response(\r\n              RESPONSE_CODES.BAD_REQUEST,\r\n              DEFAULT_HEADERS,\r\n              errors\r\n            );\r\n          }\r\n\r\n          const goodInCart = schema.carts.where({ productId: product.id });\r\n\r\n          if (goodInCart && goodInCart.models.length) {\r\n            return new Response(\r\n              RESPONSE_CODES.BAD_REQUEST,\r\n              DEFAULT_HEADERS,\r\n              RESPONSE_MESSAGES.CART_PRODUCT_ALREADY_EXISTS\r\n            );\r\n          }\r\n\r\n          const {\r\n            id: _,\r\n            productId,\r\n            ...restProduct\r\n          } = schema.carts.create(cartProduct).attrs;\r\n          const createdProduct = { id: productId, ...restProduct };\r\n\r\n          return new Response(\r\n            RESPONSE_CODES.OK,\r\n            DEFAULT_HEADERS,\r\n            createdProduct\r\n          );\r\n        } catch (e) {\r\n          logBackendError(e);\r\n          return new Response(RESPONSE_CODES.INTERNAL_SERVER_ERROR);\r\n        }\r\n      },\r\n      { timing: APP_CONFIG.DEFAULT_RESPONSE_DELAY }\r\n    );\r\n\r\n    this.delete(\r\n      \"/cart\",\r\n      async (schema, request) => {\r\n        const authError = verifyRequest(request, schema.users);\r\n        if (authError) {\r\n          return authError;\r\n        }\r\n\r\n        try {\r\n          const product = JSON.parse(request.requestBody) ?? {};\r\n\r\n          const errors = await validateProduct(product);\r\n\r\n          if (errors.length) {\r\n            return new Response(\r\n              RESPONSE_CODES.BAD_REQUEST,\r\n              DEFAULT_HEADERS,\r\n              errors\r\n            );\r\n          }\r\n\r\n          const prodcutDb = schema.carts.where({ productId: product.id });\r\n\r\n          if (!prodcutDb) {\r\n            return new Response(\r\n              RESPONSE_CODES.BAD_REQUEST,\r\n              DEFAULT_HEADERS,\r\n              RESPONSE_MESSAGES.CART_PRODUCT_NOT_FOUND\r\n            );\r\n          }\r\n\r\n          return prodcutDb.destroy();\r\n        } catch (e) {\r\n          logBackendError(e);\r\n          return new Response(RESPONSE_CODES.INTERNAL_SERVER_ERROR);\r\n        }\r\n      },\r\n      { timing: APP_CONFIG.DEFAULT_RESPONSE_DELAY }\r\n    );\r\n\r\n    this.post(\"/login\", async (schema, request) => {\r\n      const credentials = JSON.parse(request.requestBody) ?? {};\r\n      const errors = await validateUserCredentials(credentials);\r\n\r\n      if (errors.length) {\r\n        return new Response(\r\n          RESPONSE_CODES.BAD_REQUEST,\r\n          DEFAULT_HEADERS,\r\n          errors\r\n        );\r\n      }\r\n\r\n      const user = schema.users.findBy(credentials);\r\n\r\n      if (!user) {\r\n        return new Response(\r\n          RESPONSE_CODES.NOT_FOUND,\r\n          DEFAULT_HEADERS,\r\n          RESPONSE_MESSAGES.USER_NOT_FOUND\r\n        );\r\n      }\r\n\r\n      const { login, password } = user;\r\n\r\n      const token = jwt.sign({ login, password }, JWT_SECRET, {\r\n        expiresIn: APP_CONFIG.TOKEN_TTL,\r\n      });\r\n\r\n      return new Response(RESPONSE_CODES.OK, DEFAULT_HEADERS, { login, token });\r\n    });\r\n\r\n    this.post(\"/registration\", async (schema, request) => {\r\n      const credentials = JSON.parse(request.requestBody) ?? {};\r\n      const errors = await validateUserCredentials(credentials);\r\n\r\n      if (errors.length) {\r\n        return new Response(RESPONSE_CODES.BAD_REQUEST, {}, errors);\r\n      }\r\n\r\n      const currentUser = schema.users.where({ login: credentials.login });\r\n\r\n      if (currentUser && currentUser.models.length) {\r\n        return new Response(\r\n          RESPONSE_CODES.NOT_FOUND,\r\n          DEFAULT_HEADERS,\r\n          RESPONSE_MESSAGES.USER_ALREADY_EXISTS\r\n        );\r\n      }\r\n\r\n      return schema.users.create(credentials);\r\n    });\r\n  },\r\n});\r\n","import ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { App } from \"./components/App\";\r\nimport { store } from \"./store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport \"./server\";\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__1uU75\",\"userForm\":\"styles_userForm__2sQre\",\"userInput\":\"styles_userInput__B5VVM\",\"button\":\"styles_button__GAize\",\"linkBtn\":\"styles_linkBtn__2_XNI\",\"error\":\"styles_error__1CQnd\",\"errorPass\":\"styles_errorPass__2soGT\",\"inputItem\":\"styles_inputItem__31TgB\",\"errorMessage\":\"styles_errorMessage__jwjKs\",\"errorPage\":\"styles_errorPage__2dSww\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__3ZfDw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"styles_footer__2wsOj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideMenu\":\"styles_sideMenu__3VCLt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tablePage\":\"styles_tablePage__2WpTU\",\"filters\":\"styles_filters__NR8ft\",\"filtersTitle\":\"styles_filtersTitle__1_yYz\",\"titleItem\":\"styles_titleItem__xO4Ph\",\"filterItem\":\"styles_filterItem__3V1u4\",\"table\":\"styles_table__1u3so\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__3b58X\",\"userForm\":\"styles_userForm__2o2Gj\",\"userName\":\"styles_userName__3Pdoo\",\"userPass\":\"styles_userPass__SnLq6\",\"button\":\"styles_button__2ZHHl\",\"linkBtn\":\"styles_linkBtn__2Bj4p\",\"error\":\"styles_error__2T8-3\",\"errorPage\":\"styles_errorPage__2sFD2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"styles_page__1wDOq\",\"image\":\"styles_image__3nMDE\",\"subject\":\"styles_subject__GDCfo\",\"label\":\"styles_label__drjFR\",\"content\":\"styles_content__1hEru\",\"button\":\"styles_button__1RtBz\",\"price\":\"styles_price__1t27P\",\"error\":\"styles_error__2DTg6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logos\":\"styles_logos__2cCDw\",\"headerStyle\":\"styles_headerStyle__BJdse\",\"menuHeader\":\"styles_menuHeader__IlL4D\",\"menu\":\"styles_menu__2y4Kq\",\"menuItem\":\"styles_menuItem__3DiEo\",\"login\":\"styles_login__2disE\"};"],"sourceRoot":""}